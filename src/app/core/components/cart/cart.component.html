<section class="manage-section">
    <div class="container">
        <div class="row">
            <div class="col col-3">
                <app-manage-aside activePath="manage-panier"></app-manage-aside>
            </div>
            <div class="col col-9">
                <main>
                    <h1>Mon panier</h1>
                    <mat-card>
                      <mat-card-content>
                        <div class="empty-result d-flex flex-column align-items-center" matTooltip="Votre panier est vide !"
                        *ngIf="!products || products.length === 0">
                            <img src="../../../../../assets/images/empty.svg" alt="pas de resultats" class="mt-3 mb-5" loading="lazy">
                        </div>
                        <div style="min-height: 300px;" *ngIf="products && products.length > 0"> 
                            <table class="table">
                                <thead>
                                  <tr>
                                    <th scope="col">IMAGE</th>
                                    <th scope="col">PRODUIT</th>
                                    <th scope="col">QUANTITÃ‰</th>
                                    <th scope="col">PRIX UNITAIRE</th>
                                    <th scope="col">PRIX TOTAL</th>
                                  </tr>
                                </thead>
                                <tbody>
                                  <tr *ngFor="let product of products">
                                    <td>
                                        <a routerLink="/produit/{{product.product.productSlug}}">
                                            <img src="{{imageBaseUrl+product.product.productMainImage}}" 
                                            alt="{{product.product.productTitle}}" crossorigin="anonymous"
                                            class="img-thumbnail">
                                        </a>
                                    </td>
                                    <th scope="row">
                                        <span class="text-ellip">{{product.product.productTitle}}</span>
                                        <p class="text-ellip" style="max-width:200px;font-weight: 400;color: var(--gray-600);">{{product.product.productDescription}}</p>
                                    </th>
                                    <td>
                                        <div class="btn-group" role="group" aria-label="Basic mixed styles example">
                                            <button type="button" class="btn btn-dark" disabled>{{product.quantity}}</button>
                                            <button type="button" class="btn btn-danger" matTooltip="Supprimer du panier"
                                            (click)="remove(product.product)">
                                                <i class="fa-solid fa-trash"></i>
                                            </button>
                                        </div>
                                    </td>
                                    <td class="pt-4 fw-bold">{{product.product.productPrice|my_currency}}</td>
                                    <td class="pt-4 fw-bold">{{product.product.productPrice*product.quantity|my_currency}}</td>
                                  </tr>
                                </tbody>
                            </table>
                        </div>
                        <div class="d-flex justify-content-center">
                            <a class="btn btn-danger mx-2" routerLink="/produits">Continuer mes achats</a>
                            <a class="btn btn-dark disabled"
                            *ngIf="!products || products.length === 0">Passer ma commande</a>
                            <a class="btn btn-dark" routerLink="/commandes/passer-ma-commande" *ngIf="products && products.length > 0">Passer ma commande</a>
                        </div>
                      </mat-card-content>
                    </mat-card>
                </main>
            </div>
        </div>
    </div>
</section>